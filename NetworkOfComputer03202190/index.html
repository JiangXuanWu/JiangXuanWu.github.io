<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>NetworkOfComputer03 - xuan of Blog</title><meta name=keywords content="[轩木夕 xuanmx blog]"><meta name=Description content="轩木夕博客"><meta property="og:title" content="NetworkOfComputer03"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://xuanmx.com/NetworkOfComputer03202190/"><meta property="og:image" content="https://xuanmx.com"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-31T20:47:00+08:00"><meta property="article:modified_time" content="2021-04-23T21:56:05+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://xuanmx.com"><meta name=twitter:title content="NetworkOfComputer03"><meta name=twitter:description content><meta name=application-name content="xuan of Blog"><meta name=apple-mobile-web-app-title content="xuan of Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://xuanmx.com/NetworkOfComputer03202190/><link rel=prev href=https://xuanmx.com/AcquaintanceOfVue202161/><link rel=next href=https://xuanmx.com/ManjaroLayout2021129/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"NetworkOfComputer03","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/xuanmx.com\/NetworkOfComputer03202190\/"},"genre":"posts","keywords":"计算机网络","wordcount":1198,"url":"https:\/\/xuanmx.com\/NetworkOfComputer03202190\/","datePublished":"2021-03-31T20:47:00+08:00","dateModified":"2021-04-23T21:56:05+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International 4.0 International License.","publisher":{"@type":"Organization","name":"xuanmx","logo":"https:\/\/img.imgdb.cn\/item\/600aa2af3ffa7d37b3267d9a.jpg"},"author":{"@type":"Person","name":"轩木夕"},"description":""}</script></head><body header-desktop=fixed header-mobile=fixed><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><a href=https://github.com/JiangXuanWu class=github-corner aria-label="View source on GitHub"><svg width="58" height="57" viewBox="0 0 250 250" style="fill:#70b7fd;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media(max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><div class=header-title><a href=/ title="xuan of Blog">♖轩木夕</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>📚 所有文章 </a><a class=menu-item href=/tags/>📌 标签 </a><a class=menu-item href=/categories/>📁 分类 </a><a class=menu-item href=/me>⏳ 关于 </a><a class=menu-item href=/friend>🖇 友链 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><a href=https://github.com/JiangXuanWu class=github-corner aria-label="View source on GitHub"><svg width="58" height="57" viewBox="0 0 250 250" style="fill:#70b7fd;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media(max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><div class=header-title><a href=/ title="xuan of Blog">♖轩木夕</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>📚所有文章</a><a class=menu-item href=/tags/ title>📌标签</a><a class=menu-item href=/categories/ title>📁分类</a><a class=menu-item href=/me title>⏳关于</a><a class=menu-item href=/friend title>🖇友链</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">NetworkOfComputer03</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=" author" class=author><i class="fas fa-user-circle fa-fw"></i>轩木夕</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/><i class="far fa-folder fa-fw"></i>计算机网络</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-03-31>2021-03-31</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 1198 字
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 3 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ol><li><a href=#数据链路层概述>数据链路层概述</a><ol><li><a href=#封装成帧>封装成帧</a></li><li><a href=#差错检测>差错检测</a></li><li><a href=#可靠传输>可靠传输</a></li></ol></li></ol></nav></div></div><div class=content id=content><h2 id=数据链路层概述>数据链路层概述</h2><p><strong>链路</strong>（Link）：指从一个结点到相邻结点的一段物理线路，而中间没有任何其他的交换结点。</p><p><strong>数据链路</strong>（Data Link）：指把实现通信协议的硬件和软件加到链路上，就构成了数据链路。</p><p><strong>帧</strong>：指在数据链路层上传输的数据包。</p><p>数据链路层以<strong>帧</strong>为单位传输和处理数据。</p><hr><p>数据链路层最基本、最重要的三个问题：</p><ul><li><span style=color:green;font-weight:700>封装成帧</span></li><li><span style=color:blue;font-weight:700>差错检测</span></li><li><span style=color:#ff0;font-weight:700>可靠传输</span></li></ul><h3 id=封装成帧>封装成帧</h3><p><img class=lazyload src=/svg/loading.min.svg data-src=https://img.imgdb.cn/item/6066cfbc8322e6675cd431b1.png data-srcset="https://img.imgdb.cn/item/6066cfbc8322e6675cd431b1.png, https://img.imgdb.cn/item/6066cfbc8322e6675cd431b1.png 1.5x, https://img.imgdb.cn/item/6066cfbc8322e6675cd431b1.png 2x" data-sizes=auto alt=https://img.imgdb.cn/item/6066cfbc8322e6675cd431b1.png title=NetworkOfComputer37></p><p>两台主机通过一段链路互连，两台主机都会对所发送或接收的数据包进行<strong>五个层次</strong>的封装或解封。</p><p>发送方将待发送的数据，通过应用层封装成为<strong>应用层协议数据单元</strong>，然后交付给运输层。</p><p>运输层为其添加运输层协议首部，使之成为<strong>运输层协议数据单元</strong>，然后交付给网络层。</p><p>网络层为其添加网络层协议首部，使之成为<strong>网络层协议数据单元</strong>，然后交付给数据链路层。</p><p>数据链路层给网络层协议数据单元添加一个数据链路层协议首部，简称为<strong>帧头</strong>。还要给其添加一个<strong>帧尾</strong>。</p><blockquote><p>封装成帧：指数据链路层给网络层交付的协议数据单元添加帧头和帧尾的操作，称<strong>封装成帧</strong>。</p><p>添加帧头和帧尾的目的是为了在链路上以帧为单位来传送数据，即实现数据链路层本身的功能，例如上图以太网V2的MAC帧。</p><p>上层交付的协议数据单元指由 应用层逐层向下至网络层封装的协议数据单元。</p></blockquote><h3 id=差错检测>差错检测</h3><p><img class=lazyload src=/svg/loading.min.svg data-src=https://img.imgdb.cn/item/6066d2808322e6675cd77ef6.png data-srcset="https://img.imgdb.cn/item/6066d2808322e6675cd77ef6.png, https://img.imgdb.cn/item/6066d2808322e6675cd77ef6.png 1.5x, https://img.imgdb.cn/item/6066d2808322e6675cd77ef6.png 2x" data-sizes=auto alt=https://img.imgdb.cn/item/6066d2808322e6675cd77ef6.png title=NetworkOfComputer38></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://img.imgdb.cn/item/6066d33c8322e6675cd853ac.png data-srcset="https://img.imgdb.cn/item/6066d33c8322e6675cd853ac.png, https://img.imgdb.cn/item/6066d33c8322e6675cd853ac.png 1.5x, https://img.imgdb.cn/item/6066d33c8322e6675cd853ac.png 2x" data-sizes=auto alt=https://img.imgdb.cn/item/6066d33c8322e6675cd853ac.png title=NetworkOfComputer39></p><p>发送方将封装好的帧通过物理层传发送到传输媒体。而帧在传输过程中遭遇干扰后可能会出现误码。也就是比特0可能变成了比特1，反之亦然。</p><p>接收方主机通过<strong>检错码</strong>判断帧在传输过程中是否出现了误码。</p><p>发送方在发送帧之前，基于待发送的数据和检错算法计算出检错码，并将其封装在帧尾。例如以太网V2的MAC帧的帧尾，就是4字节的帧检验序列FCS字段，要写入该字段的内容，也就是检错码。</p><p>接收方主机收到帧后，通过检错码和检错算法，就可以判断出帧在传输过程中是否出现了误码。</p><h3 id=可靠传输>可靠传输</h3><p>接收方主机在收到有误码的帧后，是不会接受该帧的，将其丢弃。如果数据链路层向其上层提供的是不可靠服务，那么丢弃就丢弃了，不会再有更多措施。如果数据链路层向其上层提供的是可靠服务，那么就还需要其他措施来确保接收方主机还可以重新收到被丢弃的这个帧的正确副本。</p><p>换句话就是，尽管误码是不能完全避免的，但若能实现发送方发送什么，接收方就能收到什么，就称为可靠传输。</p><blockquote><p>注意：</p></blockquote><p>以上的三个问题使用的是点对点信道的数据链路层进行举例。</p><p>对于使用广播信道的数据链路层，除了包含以上三个问题外，还有一些其他需要解决的问题。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://img.imgdb.cn/item/6069b3228322e6675c936481.png data-srcset="https://img.imgdb.cn/item/6069b3228322e6675c936481.png, https://img.imgdb.cn/item/6069b3228322e6675c936481.png 1.5x, https://img.imgdb.cn/item/6069b3228322e6675c936481.png 2x" data-sizes=auto alt=https://img.imgdb.cn/item/6069b3228322e6675c936481.png title=NetworkOfComputer40></p><p>如图，主机A，B，C，D，E通过一根总线进行互连。主机A要给主机C发送帧，代表帧的信号会通过总线传输到总线上的其他各主机。而主机B，D，E又如何知道所收到的帧不是发送给它们的，而主机C又如何知道所收到的帧恰恰是发送给自己的呢？因此，要将帧的目的地址添加在帧中一起传输。例如，以太网V2的MAC帧格式，其首部中的三个字段中，有两个字段和地址相关。一个是<strong>目的地址字段</strong>，另一个是<strong>源地址字段</strong>。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://img.imgdb.cn/item/6069be7d8322e6675c9f0c40.png data-srcset="https://img.imgdb.cn/item/6069be7d8322e6675c9f0c40.png, https://img.imgdb.cn/item/6069be7d8322e6675c9f0c40.png 1.5x, https://img.imgdb.cn/item/6069be7d8322e6675c9f0c40.png 2x" data-sizes=auto alt=https://img.imgdb.cn/item/6069be7d8322e6675c9f0c40.png title=NetworkOfComputer41></p><hr><div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon fas fa-pencil-alt fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>以上所有图片均来自<a href="https://www.bilibili.com/video/BV1c4411d7jb?p=15" target=_blank rel="noopener noreffer">bilibili胡科大教书匠UP主</a></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2021-04-23</span></div><div class=post-info-license><span><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/>计算机网络</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/AcquaintanceOfVue202161/ class=prev rel=prev title=AcquaintanceOfVue><i class="fas fa-angle-left fa-fw"></i>AcquaintanceOfVue</a>
<a href=/ManjaroLayout2021129/ class=next rel=next title=ManjaroLayout>ManjaroLayout<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.83.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021</span>&nbsp;|&nbsp;<span class=license><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js></script><script type=text/javascript src=/js/custom.js></script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?aeb481e6ddc944c474dca4953822fc35",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script></body></html>